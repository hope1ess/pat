```c++

```#include <iostream>
#include <algorithm>
#include <vector>
#include <stdio.h>
using namespace std;
struct Node
{
	int address;
	int key;
	int next;
} node[100005];
bool cmp(Node n1, Node n2)
{
	return n1.key < n2.key;
}
int main()
{
	int size, head;
	cin >> size >> head;
	for (int i = 0; i < size; ++i)
	{
		int address, key, next;
		cin >> address >> key >> next;
		node[address] = { address, key, next };
	}
	vector<Node> v;
	for (int i = head; i != -1; i = node[i].next)
		v.push_back(node[i]);
	if (v.size() == 0)
	{
		cout << "0 -1" << endl;
		return 0;
	}
	sort(v.begin(), v.end(), cmp);
	for (int i = 0; i < v.size(); ++i)
	{
		if (i == v.size() - 1)
		{
			v[i].next = -1;
			break;
		}
		v[i].next = v[i + 1].address;
	}
	printf("%d% 05d\n", v.size() , v[0].address);
	for (int i = 0; i < v.size(); ++i)
	{
		if (i == v.size() - 1)
		{
			printf("%05d %d %d\n", v[i].address, v[i].key, v[i].next);
			break;
		}
		printf("%05d %d %05d\n", v[i].address, v[i].key, v[i].next);
	}
	system("pause");
	return 0;
}